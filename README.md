# Ответы на вопросы
## Вопрос 1

> Каким будет результат следующей операции на языке JavaScript: `[1, 2, 3] + [4, 5, 6]`. Почему был получен такой результат?

Результат равен строке: `'1,2,34,5,6'`. Это происходит из-за того, что оператор сложения `+` в JS работает только для строк или чисел (если оба операнда - числа); любой другой тип конвертируется в строку. При выполнении указанной операции, у каждого массива вызывается метод `toString`, который возвращает строку в виде элементов массива, разделенных запятой: `'1,2,3'` и `'4,5,6'`. Полученные строки соединяются.


## Вопрос 2

> Дано выражение:
>
> ```js
> var a = {b: 1};
> var b = a;
> b.b = 2;
> console.log(a);
> ```
> Что будет выведено в консоли? Почему был получен такой результат?

В консоли будет выведено: `{ b: 2 }`. Объекты в JS присваиваются по ссылке, поэтому при изменении свойства `b` в объекте `b`, это же свойство изменяется в объекте `a`.


## Вопрос 3

> Написать регулярное выражение, совпадающее с числом с плавающей точкой с точностью до 3 знака после запятой.

Следующее выражение выбирает числа с только тремя цифрами после запятой:

```js
/\d+,\d{3}\b/
```


## Вопрос 4

> Написать регулярное выражение, по которому определяется является ли строка ссылкой. Объяснить, как оно работает. Пример:
>
> ```js
> const isURL = str => true
> isURL('https://example.com')
> isURL('http://www.example.com')
> ```

Пример с таким регулярным выражением (для простоты восприятия - в разных частях URL не указаны все допустимые символы и нет ограничений по количеству символов):

```js
const URL_REGEX = /^https?:\/\/[\w-]+(\.[\w-]+)+(:\d{1,5})?\/?([\w-]+\/?)*(\?[\w=&]+)?$/i;
const isURL = str => URL_REGEX.test(str);
isURL('https://example.com'); // => true
isURL('http://www.example.com'); // => true
isURL('http:/example/'); // => false
```

Строение URL для протокола HTTP по [RFC 1738](https://www.rfc-editor.org/rfc/rfc1738) :

```
<протокол>://<имя хоста>:<порт>/<путь>?<параметры поиска>
```

Пояснения:

```js
/^
 // Протокол http или https
 https?:\/\/

 // Имя хоста.
 // Всегда (кроме localhost) должно иметь поддомен (например `example`) для домена верхнего уровня (например `com`), разделенные точкой (`example.com`).
 [\w-]+(\.[\w-]+)+

 // Порт (необязателен). Отделен ':' и имеет значения от 0 до 65535.
 (:\d{1,5})?

 // Путь (необязателен)
 \/?([\w-]+\/?)*

 // Параметры поиска (необязательны), отделены '?'.
 (\?[\w=&]+)?

 // Нечувствительность к регистру
 $/i;
```


## Вопрос 5

> Каким будет значение переменной `text` после выполнения данного JavaScript кода?
>
> ```js
> function setText(message) { 
>   text = message;
> }
> var text = 'Текст';
> setText('Сообщение');
> ```
> Опишите, почему получился такой результат.

Значение `text` будет `'Сообщение'`, т.к. внутри функции `setText` переменной `text` присваивается значение. Эта переменная объявлена вне функции и входит в область видимости, поэтому может использоваться внутри `setText`.


##  Вопрос 6

> Написать функцию для получения список всех артикулов товаров в консоли браузера на странице <https://groupprice.ru/categories/jenskaya-odejda?referer_from=main_catalog>

```js
function getItemNumber() {
    return [...document.querySelectorAll('._product')]
        ?.map(product => product.getAttribute('data-id'))
        .filter(Boolean);
}
console.log(getItemNumber());
```

Данный код выведет в консоли браузера массив строк с артикулами товаров на странице. Функция `getItemNumber` получает элементы с классом `_product` и выбирает значение артикула из атрибута элемента `data-id`.


## Вопрос 7

> Написать функцию для получения всех характеристики товара в консоли браузера в виде объекта в формате `attributeName: value` на странице <https://nir-vanna.ru/product/smesitel-bravat-art-f175109c-dlya-rakoviny/>

Подробные характеристки товара можно получить из вкладки 'Хакатеристики', из массива элементов по селектору `.tab-pane-product-parameter-item`. Описание товара находится в элементе `.tab-pane-product-desc`. На странице также используется микроразметка [Product](https://schema.org/Product) для отображения информации о товаре в поисковиках. Из нее тоже можно получить структурированные данные. Код ниже выводит в консоль браузера информацию о товаре по ссылке:

```js
function getProductInfo() {
    const infoFromHTML = Object.fromEntries(
        [...document.querySelectorAll('#tab3 .tab-pane-product-parameter-item')]
        .map((element) => {

            // Приведение ключей к camelCase
            const attributeName = element.querySelector('[class*=name]').firstChild.textContent
                .trim()
                .toLowerCase()
                .replace(/[^ a-zа-я0-9]+/gi, '')
                .replace(/\s(.)/gi, (_, match) => match.toUpperCase());
            const value = element.querySelector('[class*=value]').firstChild.textContent.trim();

            return [attributeName, value];
        })
    );

    const infoFromMicrodata = Object.fromEntries(
        [...document.querySelectorAll('[itemtype*="Product"] meta[itemprop]')]
        .map((element) => {
            const attributeName = element.getAttribute('itemprop');
            let value = element.getAttribute('content');

            switch (attributeName) {
                case 'url':
                case 'contentUrl':
                    value = new URL(value, element.baseURI).toString();
            }

            return [attributeName, value];
        })
    );

    return {
        ...infoFromHTML,
        ...infoFromMicrodata,
        description: document.querySelector('.tab-pane-product-desc').textContent.trim(),
    };
}
console.log(getProductInfo());
```

Пример вывода в консоль:

```js
{
    availability: "https://schema.org/InStock"
    brand: "Bravat"
    contentUrl: "https://nir-vanna.ru/upload/products/images/100690/577_577/photo_3.webp?v02"
    description: "Смеситель Bravat Art для раковины F175109C – это уникальный атрибут в ретро-стиле, который будет прекрасно смотреться в дизайн-проектах а-ля модерн, ар-деко, ар-нуво и других оригинальных интерьерах. Внешне похож на стилизованную ретро-колонку, имеет небольшую высоту в 6см и излив длиной 10см. Однорыжачное управление выполнено в форме эргономичной ручки с керамическим покрытием – такой рычаг хорошо ложится в руку и позволяет быстро и легко настроить поток воды."
    itemCondition: "https://schema.org/NewCondition"
    mpn: "177415"
    name: "Bravat"
    price: "13600"
    priceCurrency: "RUB"
    priceValidUntil: "2022-01-01"
    sku: "006768"
    url: "https://nir-vanna.ru/product/smesitel-bravat-art-f175109c-dlya-rakoviny/"
    "артикул": "177415"
    "вращениеИзлива": "фиксированный"
    "высотаИзливаСм": "6"
    "гарантия": "10 лет - на корпус смесителя, 5 лет - на картридж"
    "длинаИзливаСм": "10"
    "дляДетскогоСанузла": "нет"
    "донныйКлапан": "нет"
    "кодТовара": "006768"
    "коллекция": "Art"
    "материал": "латунь"
    "механизм": "керамический картридж"
    "монтаж": "на раковину"
    "назначение": "для раковины"
    "оснащение": "аэратор"
    "покрытие": "глянцевое"
    "производитель": "Bravat"
    "производительКартриджа": "Kerox"
    "срокПоставки": "1-2 недели"
    "стандартПодводкиДюйм": "1/2"
    "стилистикаДизайна": "ретро"
    "страна": "Германия/Китай"
    "тип": "смеситель"
    "управление": "рычажное"
    "формаИзлива": "традиционная"
    "функцияЭкономииРасхода": "есть"
    "цвет": "белый, хром"
}
```

